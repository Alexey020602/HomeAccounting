@using Shared.Blazor.Layouts
@using Authorization.UI.Pages
@using Budgets.UI
@using Shared.Blazor
@inherits LayoutComponentBase
@layout BaseLayout

<AppBar>
    <MudIconButton Icon="@Icons.Material.Filled.Menu"
                   Color="Color.Inherit"
                   OnClick="ToggleSidebar"
                   Class="ml-2"/>
</AppBar>

<MudDrawer @bind-Open="_isSidebarActive"
           Elevation="2"
           Color="Color.Default"
           Breakpoint="Breakpoint.Md"
           Variant="DrawerVariant.Responsive"
           ClipMode="DrawerClipMode.Always">
    <MudNavMenu>
        @foreach (var menuItem in MenuItem.Menu)
        {
            <MudNavLink Href="@menuItem.Href" Icon="@menuItem.Icon">@menuItem.Name</MudNavLink>
        }
        
        <UserComponent>
            <SelectedBudgetInfo />
        </UserComponent>
    </MudNavMenu>
</MudDrawer>

<MudMainContent>
    <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="justify-center">
        @Body
    </MudContainer>
</MudMainContent>

@code {
    private bool _isSidebarActive = true;

    private void ToggleSidebar()
    {
        _isSidebarActive = !_isSidebarActive;
    }
}