@page "/budgets/create"
@using Budgets.Contracts.CreateBudget
@using Budgets.Contracts.GetBudgetDetail
@using Budgets.UI.GetBudgets
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@inject IBudgetsApi BudgetsApi

<MudContainer>
    <MudCard>
        <BudgetForm OnSubmit="@CreateBudget"/>
    </MudCard>
</MudContainer>

@code {
    private Task CreateBudget(BudgetDetail budgetFullDetail) => BudgetsApi.CreateBudget(new CreateBudgetHttpRequest(budgetFullDetail.Name, budgetFullDetail.Limit, budgetFullDetail.BeginOfPeriod));
}